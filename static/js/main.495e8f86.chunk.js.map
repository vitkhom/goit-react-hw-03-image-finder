{"version":3,"sources":["components/Searchbar/index.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/index.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/index.js","components/ImageGallery/ImageGallery.jsx","common/Loader/index.js","common/Loader/Loader.jsx","common/Button/index.js","common/Button/Button.jsx","common/Modal/index.js","common/Modal/Modal.jsx","utils/photosApi.js","components/App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","url","largeUrl","openModal","onClick","src","alt","ImageGallery","photos","map","id","webformatURL","largeImageURL","key","Loader","color","height","width","timeout","Button","Modal","closeModalWithClick","currentTarget","closeModal","handleKeyPress","code","window","addEventListener","removeEventListener","query","page","axios","get","then","response","data","hits","App","loading","error","largePhotoUrl","fetchPhotos","photosApi","prevState","catch","message","toast","position","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","handleOpenModal","handleCloseModal","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.495e8f86.chunk.js","sourcesContent":["import Searchbar from './Searchbar';\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      inputValue: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({\r\n      inputValue: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            value={this.state.inputValue}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ url, largeUrl, openModal }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        onClick={() => openModal(largeUrl)}\r\n        src={url}\r\n        alt=\"\"\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  largeUrl: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGallery from './ImageGallery';\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ photos, openModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {photos.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          largeUrl={largeImageURL}\r\n          openModal={openModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  photos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from './Loader';\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport DefaultLoader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <DefaultLoader\r\n        className=\"DefaultLoader\"\r\n        type=\"Oval\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import Button from './Button';\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n      <button className=\"Button\" type=\"submit\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Modal from './Modal';\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    closeModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  closeModalWithClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.closeModalWithClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeUrl} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst getPhotos = (query, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=16656339-a562499c4313e4a5714644999&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { getPhotos };\r\n","import React, { Component } from 'react';\r\n\r\nimport Searchbar from './Searchbar';\r\nimport ImageGallery from './ImageGallery';\r\nimport Loader from '../common/Loader';\r\nimport Button from '../common/Button';\r\nimport Modal from '../common/Modal';\r\n\r\nimport photosApi from '../utils/photosApi';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    photos: [],\r\n    loading: false,\r\n    error: '',\r\n    query: '',\r\n    page: 1,\r\n    largePhotoUrl: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = this.state.query;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchPhotos();\r\n    }\r\n  }\r\n\r\n  fetchPhotos = () => {\r\n    const { query, page } = this.state;\r\n\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    photosApi\r\n      .getPhotos(query, page)\r\n      .then(photos =>\r\n        this.setState(prevState => ({\r\n          photos: [...prevState.photos, ...photos],\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => {\r\n        this.setState({ error: error.message });\r\n        toast.error(error.message, {\r\n          position: 'top-center',\r\n        });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ loading: false });\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n  };\r\n\r\n  handleSubmit = query => {\r\n    this.setState({\r\n      query: query,\r\n      page: 1,\r\n      photos: [],\r\n    });\r\n  };\r\n\r\n  handleOpenModal = url => {\r\n    this.setState({\r\n      largePhotoUrl: url,\r\n    });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({\r\n      largePhotoUrl: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { photos, loading, largePhotoUrl } = this.state;\r\n    return (\r\n      <>\r\n        <ToastContainer />\r\n        <Searchbar onSubmit={this.handleSubmit} />\r\n        {loading ? (\r\n          <Loader />\r\n        ) : (\r\n          <div>\r\n            {photos.length > 0 && (\r\n              <ImageGallery photos={photos} openModal={this.handleOpenModal} />\r\n            )}\r\n            {photos.length > 0 && <Button onClick={this.fetchPhotos} />}\r\n          </div>\r\n        )}\r\n        {largePhotoUrl && (\r\n          <Modal largeUrl={largePhotoUrl} closeModal={this.handleCloseModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}